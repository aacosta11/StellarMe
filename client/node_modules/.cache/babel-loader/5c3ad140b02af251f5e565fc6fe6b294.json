{"ast":null,"code":"import _objectSpread from\"C:/Users/acost/Desktop/StellarMe/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/acost/Desktop/StellarMe/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"../../styles/pageStyles/testDashStyle.css\";import TestnetGetAccountAPI from\"../../api/TestNetGetAccountAPI\";import NavBarComp from\"../../components/homepage/NavBarComp\";import TestnetTransactAPI from\"../../api/TestnetTransactAPI\";import MakeNewKeysAPI from\"../../api/MakeNewKeysAPI.jsx\";import FormControl from\"react-bootstrap/FormControl\";import InputGroup from\"react-bootstrap/InputGroup\";import React,{useState,useEffect}from\"react\";import Button from\"react-bootstrap/Button\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export default(function(props){var StellarSdk=require(\"stellar-sdk\");var fee=StellarSdk.BASE_FEE*0.0000001;// fee counted in Stroops; 100 Stroops = 0.00001 XLM \nvar _useState=useState({// guest1 KEY PAIR\n'public':'GBSN5LZY5BMBJ5J3QWRYY7WAOYG3DVRCK76PN4MR3E7GBQBINGO3SGTV','private':'SD7MGXUGVAQVJVKCBZSK4GHGRQYS67X4F4KU6T7P7EAVP7Y3CMCDZTTN'}),_useState2=_slicedToArray(_useState,2),keyPair=_useState2[0],setKeyPair=_useState2[1];var _useState3=useState({// guest2 KEY PAIR\n'public':'GDQI2XSDRTOQPKUQATVKZHZ3HZNN33KRSKG5M2M4F7SW3XCU54PI7H6O','private':'SALV2QXVIWFTISFIJWPB3KOXDPQBLWJVZMCH545Q6GL4UHPTSEQ22UFW'}),_useState4=_slicedToArray(_useState3,2),keyPair2=_useState4[0],setKeyPair2=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),balance=_useState6[0],setBalance=_useState6[1];// guest1 BALANCE\nvar _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),balance2=_useState8[0],setBalance2=_useState8[1];// guest2 BALANCE\nvar guest1='guest982';// guest1 NAME\nvar guest2='guest321';// guest2 NAME\nvar _useState9=useState({// placement for trade demo\n0:{'name':guest1,'public':keyPair.public,'private':keyPair.private,'balance':balance},1:{'name':guest2,'public':keyPair2.public,'private':keyPair2.private,'balance':balance2}}),_useState10=_slicedToArray(_useState9,2),slots=_useState10[0],setSlots=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),tradeAmnt=_useState12[0],setTradeAmnt=_useState12[1];// number of XLM transferred\nuseEffect(function(){// useEffects update balances shown on the trade demo\nslots[0].name===guest1?setSlots(_objectSpread(_objectSpread({},slots),{},{0:{'name':guest1,'public':keyPair.public,'private':keyPair.private,'balance':balance}})):setSlots(_objectSpread(_objectSpread({},slots),{},{1:{'name':guest1,'public':keyPair.public,'private':keyPair.private,'balance':balance}}));},[balance]);useEffect(function(){slots[0].name===guest2?setSlots(_objectSpread(_objectSpread({},slots),{},{0:{'name':guest2,'public':keyPair2.public,'private':keyPair2.private,'balance':balance2}})):setSlots(_objectSpread(_objectSpread({},slots),{},{1:{'name':guest2,'public':keyPair2.public,'private':keyPair2.private,'balance':balance2}}));},[balance2]);var generateNewKeys=function generateNewKeys(res){setKeyPair(_objectSpread({},res));};// replace current keypairs with new ones\nvar generateNewKeys2=function generateNewKeys2(res){setKeyPair2(_objectSpread({},res));};var handleAccountReport=function handleAccountReport(res){// fetch balance from Horizon API\nsetBalance(res);};var handleAccountReport2=function handleAccountReport2(res){setBalance2(res);};var handleTransaction2=function handleTransaction2(res){// update balances from individual transactions\nsetBalance2(((parseFloat(balance2)+parseFloat(res))*100/100).toFixed(7));};var handleTransaction=function handleTransaction(res){setBalance(((parseFloat(balance)+parseFloat(res))*100/100).toFixed(7));};var handleSwapSlots=function handleSwapSlots(){// swap guest placements for trade demo; swapping sender and reciever.\nif(slots[0].name===guest1){setSlots({0:{'name':guest2,'public':keyPair2.public,'private':keyPair2.private,'balance':balance2},1:{'name':guest1,'public':keyPair.public,'private':keyPair.private,'balance':balance}});}else{setSlots({0:{'name':guest1,'public':keyPair.public,'private':keyPair.private,'balance':balance},1:{'name':guest2,'public':keyPair2.public,'private':keyPair2.private,'balance':balance2}});}};var handleTradeDemo=function handleTradeDemo(res){// update balances after trade demo\nconsole.log(res);slots[0].name===guest1?/*#__PURE__*/_jsxs(_Fragment,{children:[setBalance(((parseFloat(balance)-parseFloat(res)-fee)*100/100).toFixed(7)),setBalance2(((parseFloat(balance2)+parseFloat(res))*100/100).toFixed(7))]}):/*#__PURE__*/_jsxs(_Fragment,{children:[setBalance(((parseFloat(balance)+parseFloat(res))*100/100).toFixed(7)),setBalance2(((parseFloat(balance2)-parseFloat(res)-fee)*100/100).toFixed(7))]});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TestnetGetAccountAPI,{pubKey:keyPair2.public,response:handleAccountReport2}),/*#__PURE__*/_jsx(TestnetGetAccountAPI,{pubKey:keyPair.public,response:handleAccountReport}),/*#__PURE__*/_jsxs(\"div\",{className:\"testdashwrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"testdashtopfill\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome, guest!\"})}),/*#__PURE__*/_jsx(NavBarComp,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"addresses testusercard\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hr hr-t\"}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"@\",guest1,\"'s testnet key pair:\"]}),/*#__PURE__*/_jsx(\"h6\",{children:\"public: \"}),keyPair.public.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"none\"}):/*#__PURE__*/_jsx(\"div\",{className:\"testkey\",children:keyPair.public}),/*#__PURE__*/_jsx(\"h6\",{children:\"private: \"}),keyPair.private.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"none\"}):/*#__PURE__*/_jsx(\"div\",{className:\"testkey\",children:keyPair.private}),/*#__PURE__*/_jsx(MakeNewKeysAPI,{response:generateNewKeys,className:\"newkeysplz\"}),/*#__PURE__*/_jsx(\"div\",{className:\"hr hr-b\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"addresses testusercard\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hr hr-t\"}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"@\",guest2,\"'s testnet key pair:\"]}),/*#__PURE__*/_jsx(\"h6\",{children:\"public: \"}),keyPair2.public.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"none\"}):/*#__PURE__*/_jsx(\"div\",{className:\"testkey\",children:keyPair2.public}),/*#__PURE__*/_jsx(\"h6\",{children:\"private: \"}),keyPair2.private.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"none\"}):/*#__PURE__*/_jsx(\"div\",{className:\"testkey\",children:keyPair2.private}),/*#__PURE__*/_jsx(MakeNewKeysAPI,{response:generateNewKeys2,className:\"newkeysplz\"}),/*#__PURE__*/_jsx(\"div\",{className:\"hr hr-b\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"testusercard testnetaccountinfo\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hr hr-t\"}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Balance for @\",guest1]}),keyPair.public.length!==0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[balance,\" XLM\"]}),/*#__PURE__*/_jsx(\"h3\",{children:\"add 100 XML to your balance?\"}),/*#__PURE__*/_jsx(TestnetTransactAPI,{reciever:keyPair.public,response:handleTransaction,amnt:\"100\",srcSecret:'SA4JSHUECQ4S5ECT6LGSMQPM467CDNBNAGBVFMDCNSMYUJW3ZXQNWE5O'})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Generate Key Pairs!\"}),/*#__PURE__*/_jsx(\"div\",{className:\"hr hr-b\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"testusercard testnetaccountinfo\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hr hr-t\"}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Balance for @\",guest2]}),keyPair2.public.length!==0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[balance2,\" XLM\"]}),/*#__PURE__*/_jsx(\"h3\",{children:\"add 100 XML to your balance?\"}),/*#__PURE__*/_jsx(TestnetTransactAPI,{reciever:keyPair2.public,response:handleTransaction2,amnt:\"100\",srcSecret:'SA4JSHUECQ4S5ECT6LGSMQPM467CDNBNAGBVFMDCNSMYUJW3ZXQNWE5O'})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Generate Key Pairs!\"}),/*#__PURE__*/_jsx(\"div\",{className:\"hr hr-b\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"testusercard testnettransactpreview\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hr hr-t\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Make A Trade!\"}),/*#__PURE__*/_jsxs(\"div\",{children:[\"@\",slots[0].name,\" Balance: XLM \",slots[0].balance]}),/*#__PURE__*/_jsxs(InputGroup,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(FormControl,{min:\"1\",type:\"number\",value:tradeAmnt,onChange:function onChange(e){return setTradeAmnt(e.target.value);},\"aria-label\":\"Default\",\"aria-describedby\":\"inputGroup-sizing-default\"}),/*#__PURE__*/_jsx(InputGroup.Text,{id:\"inputGroup-sizing-default\",children:\"XLM\"}),/*#__PURE__*/_jsx(Button,{onClick:handleSwapSlots,children:\"swap\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"@\",slots[1].name,\" Balance: XLM \",slots[1].balance]}),keyPair.public.length<1||keyPair2.public.length<1?/*#__PURE__*/_jsx(\"h3\",{children:\"Generate Key Pairs First!\"}):/*#__PURE__*/_jsx(TestnetTransactAPI,{srcSecret:slots[0].private,amnt:tradeAmnt,reciever:slots[1].public,response:handleTradeDemo}),/*#__PURE__*/_jsx(\"div\",{className:\"hr hr-b\"})]})]})]});});","map":{"version":3,"sources":["C:/Users/acost/Desktop/StellarMe/client/src/pages/testnet/TestnetDashPage.jsx"],"names":["TestnetGetAccountAPI","NavBarComp","TestnetTransactAPI","MakeNewKeysAPI","FormControl","InputGroup","React","useState","useEffect","Button","props","StellarSdk","require","fee","BASE_FEE","keyPair","setKeyPair","keyPair2","setKeyPair2","balance","setBalance","balance2","setBalance2","guest1","guest2","public","private","slots","setSlots","tradeAmnt","setTradeAmnt","name","generateNewKeys","res","generateNewKeys2","handleAccountReport","handleAccountReport2","handleTransaction2","parseFloat","toFixed","handleTransaction","handleSwapSlots","handleTradeDemo","console","log","length","e","target","value"],"mappings":"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","sourcesContent":["import \"../../styles/pageStyles/testDashStyle.css\";\r\nimport TestnetGetAccountAPI from \"../../api/TestNetGetAccountAPI\";\r\nimport NavBarComp from \"../../components/homepage/NavBarComp\";\r\nimport TestnetTransactAPI from \"../../api/TestnetTransactAPI\";\r\nimport MakeNewKeysAPI from \"../../api/MakeNewKeysAPI.jsx\";\r\nimport FormControl from \"react-bootstrap/FormControl\";\r\nimport InputGroup from \"react-bootstrap/InputGroup\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nexport default props => {\r\n    const StellarSdk = require(\"stellar-sdk\");\r\n    const fee = StellarSdk.BASE_FEE * 0.0000001; // fee counted in Stroops; 100 Stroops = 0.00001 XLM \r\n    const [keyPair, setKeyPair] = useState({ // guest1 KEY PAIR\r\n        'public': 'GBSN5LZY5BMBJ5J3QWRYY7WAOYG3DVRCK76PN4MR3E7GBQBINGO3SGTV',\r\n        'private': 'SD7MGXUGVAQVJVKCBZSK4GHGRQYS67X4F4KU6T7P7EAVP7Y3CMCDZTTN' });\r\n    const [keyPair2,setKeyPair2] = useState({ // guest2 KEY PAIR\r\n        'public':'GDQI2XSDRTOQPKUQATVKZHZ3HZNN33KRSKG5M2M4F7SW3XCU54PI7H6O',\r\n        'private':'SALV2QXVIWFTISFIJWPB3KOXDPQBLWJVZMCH545Q6GL4UHPTSEQ22UFW'});\r\n    const [balance, setBalance] = useState(0); // guest1 BALANCE\r\n    const [balance2, setBalance2] = useState(0); // guest2 BALANCE\r\n    const guest1 = 'guest982'; // guest1 NAME\r\n    const guest2 = 'guest321'; // guest2 NAME\r\n    const [slots,setSlots] = useState({ // placement for trade demo\r\n        0:{'name':guest1,'public':keyPair.public,'private':keyPair.private,'balance':balance},\r\n        1:{'name':guest2,'public':keyPair2.public,'private':keyPair2.private,'balance':balance2}});\r\n    const [tradeAmnt,setTradeAmnt] = useState(0); // number of XLM transferred\r\n    useEffect(()=>{ // useEffects update balances shown on the trade demo\r\n        slots[0].name === guest1 ?\r\n        setSlots({...slots,0:{'name':guest1,'public':keyPair.public,'private':keyPair.private,'balance':balance}})\r\n        :\r\n        setSlots({...slots,1:{'name':guest1,'public':keyPair.public,'private':keyPair.private,'balance':balance}})\r\n    }, [balance])\r\n    useEffect(()=>{\r\n        slots[0].name === guest2 ?\r\n        setSlots({...slots,0:{'name':guest2,'public':keyPair2.public,'private':keyPair2.private,'balance':balance2}})\r\n        :\r\n        setSlots({...slots,1:{'name':guest2,'public':keyPair2.public,'private':keyPair2.private,'balance':balance2}})\r\n    }, [balance2])\r\n    const generateNewKeys = res => {setKeyPair({...res});} // replace current keypairs with new ones\r\n    const generateNewKeys2 = res => {setKeyPair2({...res});}\r\n    const handleAccountReport = res => { // fetch balance from Horizon API\r\n        setBalance(res);}\r\n    const handleAccountReport2 = res => {\r\n        setBalance2(res);}\r\n    const handleTransaction2 = res => { // update balances from individual transactions\r\n        setBalance2((((parseFloat(balance2) + parseFloat(res)) * 100) / 100).toFixed(7));}\r\n    const handleTransaction = res => {\r\n        setBalance((((parseFloat(balance) + parseFloat(res)) * 100) / 100).toFixed(7));}\r\n    const handleSwapSlots = () => { // swap guest placements for trade demo; swapping sender and reciever.\r\n        if (slots[0].name === guest1) {\r\n            setSlots({0:{'name':guest2,'public':keyPair2.public,'private':keyPair2.private,'balance':balance2},\r\n            1:{'name':guest1,'public':keyPair.public,'private':keyPair.private,'balance':balance}})} \r\n        else {\r\n            setSlots({0:{'name':guest1,'public':keyPair.public,'private':keyPair.private,'balance':balance},\r\n            1:{'name':guest2,'public':keyPair2.public,'private':keyPair2.private,'balance':balance2}})}\r\n    }\r\n    const handleTradeDemo = res => { // update balances after trade demo\r\n        console.log(res);\r\n        slots[0].name === guest1 ?\r\n        <>\r\n        {setBalance((((parseFloat(balance) - parseFloat(res) - fee) * 100) / 100).toFixed(7))}\r\n        {setBalance2((((parseFloat(balance2) + parseFloat(res)) * 100) / 100).toFixed(7))}\r\n        </>\r\n        :\r\n        <>\r\n        {setBalance((((parseFloat(balance) + parseFloat(res)) * 100) / 100).toFixed(7))}\r\n        {setBalance2((((parseFloat(balance2) - parseFloat(res) - fee) * 100) / 100).toFixed(7))}\r\n        </>\r\n    }\r\n    return (\r\n        <>\r\n            <TestnetGetAccountAPI pubKey={keyPair2.public} response={handleAccountReport2} />\r\n            <TestnetGetAccountAPI pubKey={keyPair.public} response={handleAccountReport} />\r\n            <div className=\"testdashwrap\">\r\n                <div className=\"testdashtopfill\">\r\n                    <h1>Welcome, guest!</h1>\r\n                </div>\r\n                <NavBarComp />\r\n\r\n                {/* key pair for guest1 */}\r\n                <div className=\"addresses testusercard\">\r\n                    <div className=\"hr hr-t\" />\r\n                    <h2>@{guest1}'s testnet key pair:</h2>\r\n                    {/* public */}\r\n                    <h6>public: </h6>\r\n                    {keyPair.public.length === 0 ?\r\n                        <p>none</p>\r\n                        : <div className=\"testkey\">{keyPair.public}</div>}\r\n                    {/* private */}\r\n                    <h6>private: </h6>\r\n                    {keyPair.private.length === 0 ?\r\n                        <p>none</p>\r\n                        : <div className=\"testkey\">{keyPair.private}</div>}\r\n                    <MakeNewKeysAPI response={generateNewKeys} className=\"newkeysplz\" />\r\n                    <div className=\"hr hr-b\" />\r\n                </div>\r\n\r\n                {/* key pair for guest2 */}\r\n                <div className=\"addresses testusercard\">\r\n                    <div className=\"hr hr-t\" />\r\n                    <h2>@{guest2}'s testnet key pair:</h2>\r\n                    {/* public */}\r\n                    <h6>public: </h6>\r\n                    {keyPair2.public.length === 0 ?\r\n                        <p>none</p>\r\n                        : <div className=\"testkey\">{keyPair2.public}</div>}\r\n                    {/* private */}\r\n                    <h6>private: </h6>\r\n                    {keyPair2.private.length === 0 ?\r\n                        <p>none</p>\r\n                        : <div className=\"testkey\">{keyPair2.private}</div>}\r\n                    <MakeNewKeysAPI response={generateNewKeys2} className=\"newkeysplz\" />\r\n                    <div className=\"hr hr-b\" />\r\n                </div>\r\n\r\n                {/* balance for guest1 */}\r\n                <div className=\"testusercard testnetaccountinfo\">\r\n                    <div className=\"hr hr-t\" />\r\n                    <h2>Balance for @{guest1}</h2>\r\n                    {keyPair.public.length !== 0 ?\r\n                    <>\r\n                    <div>{balance} XLM</div>\r\n                    <h3>add 100 XML to your balance?</h3>\r\n                    <TestnetTransactAPI reciever={keyPair.public} response={handleTransaction} amnt='100'\r\n                    srcSecret={'SA4JSHUECQ4S5ECT6LGSMQPM467CDNBNAGBVFMDCNSMYUJW3ZXQNWE5O'}/>\r\n                    </>\r\n                    : <p>Generate Key Pairs!</p>}\r\n                    <div className=\"hr hr-b\" />\r\n                </div>\r\n\r\n                {/* balance for guest2 */}\r\n                <div className=\"testusercard testnetaccountinfo\">\r\n                    <div className=\"hr hr-t\" />\r\n                    <h2>Balance for @{guest2}</h2>\r\n                    {keyPair2.public.length !== 0 ?\r\n                    <>\r\n                    <div>{balance2} XLM</div>\r\n                    <h3>add 100 XML to your balance?</h3>\r\n                    <TestnetTransactAPI reciever={keyPair2.public} response={handleTransaction2} amnt='100' \r\n                    srcSecret={'SA4JSHUECQ4S5ECT6LGSMQPM467CDNBNAGBVFMDCNSMYUJW3ZXQNWE5O'}/>\r\n                    </>\r\n                    : <p>Generate Key Pairs!</p>}\r\n                    <div className=\"hr hr-b\" />\r\n                </div>\r\n\r\n                {/* make a trade */}\r\n                <div className=\"testusercard testnettransactpreview\">\r\n                    <div className=\"hr hr-t\" />\r\n                    <h2>Make A Trade!</h2>\r\n                    <div>@{slots[0].name} Balance: XLM {slots[0].balance}</div>\r\n                    <InputGroup className=\"mb-3\">\r\n                        <FormControl\r\n                            min=\"1\"\r\n                            type=\"number\"\r\n                            value={tradeAmnt}\r\n                            onChange={e=>setTradeAmnt(e.target.value)}\r\n                            aria-label=\"Default\"\r\n                            aria-describedby=\"inputGroup-sizing-default\"/>\r\n                    <InputGroup.Text id=\"inputGroup-sizing-default\">XLM</InputGroup.Text>\r\n                    <Button onClick={handleSwapSlots}>swap</Button>\r\n                    </InputGroup>\r\n                    <div>@{slots[1].name} Balance: XLM {slots[1].balance}</div>\r\n                    {keyPair.public.length < 1 || keyPair2.public.length < 1 ?\r\n                    <h3>Generate Key Pairs First!</h3>\r\n                    :\r\n                    <TestnetTransactAPI \r\n                    srcSecret={slots[0].private}\r\n                    amnt={tradeAmnt}\r\n                    reciever={slots[1].public}\r\n                    response={handleTradeDemo}\r\n                    />}\r\n                    <div className=\"hr hr-b\" />\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}